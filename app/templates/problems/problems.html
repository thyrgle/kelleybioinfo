{% extends 'base.html' %}
{% block content %}
<div class="row" id="problem-row">
  <div class="col-2">
    <ul class="nav flex-column">
      {% for category in categories %}
        <li class="nav-item">
	  <p><b>{{ category }}</b></p>
	  <ul class="nav flex-column">
	    {% for problem in categories[category] %}
	      <li class="nav-item">
		<a href="{{ url_for(problem.url) }}" class="problem-entry"> {{ problem.name }} </a>
	      </li>
	     {% endfor %}
	  </ul>
        </li>
      {% endfor %}
  </div>
  <div class="col" id="problem-col">
    <form method="post" id="problem-form">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
      {% block problem %} {% endblock %}
    </form>
  </div>
</div>
<nav class="navbar navbar-expand fixed-bottom navbar-light bg-light">
  <ul class="navbar-nav ml-auto">
    <li class="nav-item">
      <div class="btn-group btn-group-toggle" 
	   role="group"
	   aria-label="Levels"
	   data-toggle="buttons">
        <label class="btn btn-secondary active">
	  <input type="radio" checked name="1">
	    1
	</label>
	<label class="btn btn-secondary">
          <input type="radio" name="2">
	    2
	</label>
	<label class="btn btn-secondary">
          <input type="radio" name="3">
	    3
	</label>
      </div>
    </li>
    <li class="nav-item">
      <button type="submit"
              name="submit-solution"
              method="post"
              class="btn btn-primary"
	      form="problem-form">
	      Submit
      </button>
    </li>
    <li class="nav-item">
      <div class="btn-group btn-group-toggle" data-toggle="buttons">
        <label class="btn btn-secondary active">
          <input type="radio" 
                 name="options" 
                 id="quiz" 
                 autocomplete="off" 
                 checked>
	    Quiz
        </label>
        <label class="btn btn-secondary">
          <input type="radio" 
                 name="options"
                 id="practice"
                 autocomplete="off">
            Practice
        </label>
      </div>
    </li>
  </ul>
</nav>
<script>
$(function() {
  $('.btn-group').on('change', 'input[type=radio]', function() {
    $.ajax({
      type: "POST",
      data: { level: $(this).attr("name") },
      success: function(response) {
	console.log(response);
        //document.write(response);
      },
    });
  });
});
</script>
{% endblock %}
